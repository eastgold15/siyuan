{"ID":"20250407000556-uanlyxm","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250407000556-uanlyxm","title":"Promise.race() çš„å®æˆ˜åº”ç”¨åœºæ™¯","type":"doc","updated":"20250510110943"},"Children":[{"ID":"20250510110943-mr0uimx","Type":"NodeThematicBreak","Properties":{"id":"20250510110943-mr0uimx","updated":"20250510110943"}},{"ID":"20250510110943-07q1jwm","Type":"NodeParagraph","Properties":{"id":"20250510110943-07q1jwm","updated":"20250510110943"},"Children":[{"Type":"NodeText","Data":"title: Promise.race() çš„å®æˆ˜åº”ç”¨åœºæ™¯\ndate: 2025-04-07T00:05:56Z\nlastmod: 2025-05-10T10:47:58Z"}]},{"ID":"20250510110943-5yhx3gb","Type":"NodeThematicBreak","Properties":{"id":"20250510110943-5yhx3gb","updated":"20250510110943"}},{"ID":"20250510110943-2lk746v","Type":"NodeThematicBreak","Properties":{"id":"20250510110943-2lk746v","updated":"20250510110943"}},{"ID":"20250510110943-acrdnhm","Type":"NodeParagraph","Properties":{"id":"20250510110943-acrdnhm","updated":"20250510110943"},"Children":[{"Type":"NodeText","Data":"title: Promise.race() çš„å®æˆ˜åº”ç”¨åœºæ™¯"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"date: 2025-04-07T00:05:56Z"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"lastmod: 2025-04-07T00:07:36Z"}]},{"ID":"20250510110943-vpc57kp","Type":"NodeThematicBreak","Properties":{"id":"20250510110943-vpc57kp","updated":"20250510110943"}},{"ID":"20250510110943-t2o4cm2","Type":"NodeParagraph","Properties":{"id":"20250510110943-t2o4cm2","updated":"20250510110943"},"Children":[{"Type":"NodeText","Data":"â€‹"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Promise.race()"},{"Type":"NodeText","Data":"â€‹ ç”¨äº "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"å¤šä¸ª Promise ç«äº‰"},{"Type":"NodeText","Data":"ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ª Promise å®Œæˆï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼‰ï¼Œå°±ç«‹å³è¿”å›å…¶ç»“æœã€‚"}]},{"ID":"20250510110943-hhtagx9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250510110943-hhtagx9","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Promise.race() çš„å®æˆ˜åº”ç”¨åœºæ™¯"}]},{"ID":"20250510110943-pxd129l","Type":"NodeParagraph","Properties":{"id":"20250510110943-pxd129l","updated":"20250510110943"},"Children":[{"Type":"NodeText","Data":"â€‹"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Promise.race()"},{"Type":"NodeText","Data":"â€‹ ç”¨äº "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"å¤šä¸ª Promise ç«äº‰"},{"Type":"NodeText","Data":"ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ª Promise å®Œæˆï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼‰ï¼Œå°±ç«‹å³è¿”å›å…¶ç»“æœã€‚ä»¥ä¸‹æ˜¯å®ƒçš„æ ¸å¿ƒåº”ç”¨åœºæ™¯å’Œä»£ç ç¤ºä¾‹ï¼š"}]},{"ID":"20250510110943-ikv0xeb","Type":"NodeThematicBreak","Properties":{"id":"20250510110943-ikv0xeb","updated":"20250510110943"}},{"ID":"20250510110943-ziiw170","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110943-ziiw170","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"1. ç½‘ç»œè¯·æ±‚è¶…æ—¶æ§åˆ¶"}]},{"ID":"20250510110943-o32q3of","Type":"NodeParagraph","Properties":{"id":"20250510110943-o32q3of","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"åœºæ™¯"},{"Type":"NodeText","Data":"ï¼šå‘èµ·è¯·æ±‚æ—¶ï¼Œå¦‚æœè¶…è¿‡æŒ‡å®šæ—¶é—´æœªå“åº”ï¼Œè‡ªåŠ¨å–æ¶ˆå¹¶è¿”å›è¶…æ—¶é”™è¯¯ã€‚\n"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä»£ç "},{"Type":"NodeText","Data":"ï¼š"}]},{"ID":"20250510110943-7takdpt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510110943-7takdpt","updated":"20250510110943"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"function fetchWithTimeout(url, timeout = 3000) {\n  const fetchPromise = fetch(url); // å®é™…è¯·æ±‚\n  const timeoutPromise = new Promise((_, reject) =\u003e {\n    setTimeout(() =\u003e reject(new Error(\"Request timeout!\")), timeout);\n  });\n\n  return Promise.race([fetchPromise, timeoutPromise]);\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\nfetchWithTimeout(\"https://api.example.com/data\")\n  .then(response =\u003e console.log(\"æˆåŠŸ:\", response))\n  .catch(error =\u003e console.log(\"å¤±è´¥:\", error)); // 3ç§’æœªå“åº”åˆ™è§¦å‘è¶…æ—¶\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510110943-3a3vne5","Type":"NodeThematicBreak","Properties":{"id":"20250510110943-3a3vne5","updated":"20250510110943"}},{"ID":"20250510110943-gx311jv","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110943-gx311jv","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2. ç«é€Ÿä»»åŠ¡ï¼ˆä¼˜å…ˆå–æœ€å¿«ç»“æœï¼‰"}]},{"ID":"20250510110943-j3jw5e7","Type":"NodeParagraph","Properties":{"id":"20250510110943-j3jw5e7","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"åœºæ™¯"},{"Type":"NodeText","Data":"ï¼šä»å¤šä¸ªæ•°æ®æºè¯·æ±‚åŒä¸€èµ„æºï¼Œå–æœ€å…ˆè¿”å›çš„ç»“æœã€‚\n"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä»£ç "},{"Type":"NodeText","Data":"ï¼š"}]},{"ID":"20250510110943-mffhmw7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510110943-mffhmw7","updated":"20250510110943"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"const source1 = fetch(\"https://source1.example.com/data\");\nconst source2 = fetch(\"https://source2.example.com/data\");\n\nPromise.race([source1, source2])\n  .then(response =\u003e console.log(\"æœ€å¿«ç»“æœ:\", response))\n  .catch(error =\u003e console.log(\"é”™è¯¯:\", error));\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510110943-ifqkc8a","Type":"NodeThematicBreak","Properties":{"id":"20250510110943-ifqkc8a","updated":"20250510110943"}},{"ID":"20250510110943-sinjetq","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110943-sinjetq","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"3. é•¿æ—¶é—´ä»»åŠ¡ä¸­æ–­"}]},{"ID":"20250510110943-94o2qm3","Type":"NodeParagraph","Properties":{"id":"20250510110943-94o2qm3","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"åœºæ™¯"},{"Type":"NodeText","Data":"ï¼šç”¨æˆ·ä¸»åŠ¨å–æ¶ˆé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ï¼ˆå¦‚æ–‡ä»¶ä¸Šä¼ ã€è®¡ç®—ï¼‰ã€‚\n"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä»£ç "},{"Type":"NodeText","Data":"ï¼š"}]},{"ID":"20250510110943-fjdmn8d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510110943-fjdmn8d","updated":"20250510110943"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"let cancel;\nconst longTask = new Promise((resolve) =\u003e {\n  const timer = setTimeout(() =\u003e resolve(\"ä»»åŠ¡å®Œæˆ\"), 5000);\n  cancel = () =\u003e { clearTimeout(timer); reject(\"ç”¨æˆ·å–æ¶ˆ\"); };\n});\n\nconst userAction = new Promise((_, reject) =\u003e {\n  // æ¨¡æ‹Ÿç”¨æˆ·ç‚¹å‡»å–æ¶ˆæŒ‰é’®\n  document.getElementById(\"cancel-btn\").addEventListener(\"click\", () =\u003e reject(\"ç”¨æˆ·å–æ¶ˆ\"));\n});\n\nPromise.race([longTask, userAction])\n  .then(result =\u003e console.log(result))\n  .catch(error =\u003e console.log(error)); // ç”¨æˆ·ç‚¹å‡»å–æ¶ˆæ—¶è§¦å‘\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510110943-6i66rth","Type":"NodeThematicBreak","Properties":{"id":"20250510110943-6i66rth","updated":"20250510110943"}},{"ID":"20250510110943-mpicf1m","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110943-mpicf1m","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"4. æœåŠ¡é™çº§ï¼ˆä¼˜å…ˆä¸»å¤‡åˆ‡æ¢ï¼‰"}]},{"ID":"20250510110943-e1jnnlx","Type":"NodeParagraph","Properties":{"id":"20250510110943-e1jnnlx","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"åœºæ™¯"},{"Type":"NodeText","Data":"ï¼šä¸»æœåŠ¡ä¸å¯ç”¨æ—¶ï¼Œå¿«é€Ÿåˆ‡æ¢åˆ°å¤‡ç”¨æœåŠ¡ã€‚\n"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä»£ç "},{"Type":"NodeText","Data":"ï¼š"}]},{"ID":"20250510110943-3zyf7xi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510110943-3zyf7xi","updated":"20250510110943"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"const primaryService = fetch(\"https://primary.example.com\").catch(() =\u003e \"ä¸»æœåŠ¡å¤±è´¥\");\nconst backupService = fetch(\"https://backup.example.com\").catch(() =\u003e \"å¤‡ç”¨æœåŠ¡å¤±è´¥\");\n\nPromise.race([primaryService, backupService])\n  .then(response =\u003e console.log(\"ä½¿ç”¨æœåŠ¡:\", response));\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510110943-wf9grwd","Type":"NodeThematicBreak","Properties":{"id":"20250510110943-wf9grwd","updated":"20250510110943"}},{"ID":"20250510110943-y832ztm","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110943-y832ztm","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"5. æµ‹è¯•å¼‚æ­¥ä»£ç æ€§èƒ½"}]},{"ID":"20250510110943-6t7mlpp","Type":"NodeParagraph","Properties":{"id":"20250510110943-6t7mlpp","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"åœºæ™¯"},{"Type":"NodeText","Data":"ï¼šæ¯”è¾ƒä¸¤ä¸ªå¼‚æ­¥æ“ä½œçš„æ‰§è¡Œé€Ÿåº¦ã€‚\n"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä»£ç "},{"Type":"NodeText","Data":"ï¼š"}]},{"ID":"20250510110943-oqvdpny","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510110943-oqvdpny","updated":"20250510110943"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"const fastTask = new Promise(resolve =\u003e setTimeout(resolve, 100, \"å¿«ä»»åŠ¡å®Œæˆ\"));\nconst slowTask = new Promise(resolve =\u003e setTimeout(resolve, 200, \"æ…¢ä»»åŠ¡å®Œæˆ\"));\n\nPromise.race([fastTask, slowTask])\n  .then(result =\u003e console.log(\"èƒœå‡º:\", result)); // è¾“å‡º: \"å¿«ä»»åŠ¡å®Œæˆ\"\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510110943-oye68z7","Type":"NodeThematicBreak","Properties":{"id":"20250510110943-oye68z7","updated":"20250510110943"}},{"ID":"20250510110943-j7z1ih3","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110943-j7z1ih3","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"æ³¨æ„äº‹é¡¹"}]},{"ID":"20250510110943-5z89k3f","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250510110943-5z89k3f","updated":"20250510110943"},"Children":[{"ID":"20250510110943-jg97g41","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250510110943-jg97g41","updated":"20250510110943"},"Children":[{"ID":"20250510110943-4quii3a","Type":"NodeParagraph","Properties":{"id":"20250510110943-4quii3a","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"å¤±è´¥ä¸å½±å“å…¶ä»– Promise"},{"Type":"NodeText","Data":"ï¼šå³ä½¿æŸä¸ª Promise è¢« "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"race"},{"Type":"NodeText","Data":"â€‹ æ·˜æ±°ï¼Œå®ƒä»ä¼šç»§ç»­æ‰§è¡Œï¼ˆé™¤éæ‰‹åŠ¨å–æ¶ˆï¼‰ã€‚"}]}]},{"ID":"20250510110943-vjj9p5d","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250510110943-vjj9p5d","updated":"20250510110943"},"Children":[{"ID":"20250510110943-dbiw1dj","Type":"NodeParagraph","Properties":{"id":"20250510110943-dbiw1dj","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä¸ä¿è¯é¡ºåº"},{"Type":"NodeText","Data":"ï¼šç»“æœå–å†³äºå“ªä¸ª Promise å…ˆå®Œæˆï¼Œä¸æ•°ç»„ä¸­çš„é¡ºåºæ— å…³ã€‚"}]}]},{"ID":"20250510110943-5gducwb","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20250510110943-5gducwb","updated":"20250510110943"},"Children":[{"ID":"20250510110943-21gwy8e","Type":"NodeParagraph","Properties":{"id":"20250510110943-21gwy8e","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"é€‚ç”¨çŸ­æœŸç«äº‰"},{"Type":"NodeText","Data":"ï¼šé€‚åˆçŸ­æœŸå¼‚æ­¥æ“ä½œï¼Œé•¿æ—¶é—´ä»»åŠ¡å»ºè®®ç”¨ "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"AbortController"},{"Type":"NodeText","Data":"â€‹ã€‚"}]}]}]},{"ID":"20250510110943-m4rryj0","Type":"NodeThematicBreak","Properties":{"id":"20250510110943-m4rryj0","updated":"20250510110943"}},{"ID":"20250510110943-ahn37e4","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250510110943-ahn37e4","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"æ€»ç»“"}]},{"ID":"20250510110943-rlqefdp","Type":"NodeList","ListData":{},"Properties":{"id":"20250510110943-rlqefdp","updated":"20250510110943"},"Children":[{"ID":"20250510110943-8d4tt46","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510110943-8d4tt46","updated":"20250510110943"},"Children":[{"ID":"20250510110943-a14tzpv","Type":"NodeParagraph","Properties":{"id":"20250510110943-a14tzpv","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"è¶…æ—¶æ§åˆ¶"},{"Type":"NodeText","Data":"ï¼šå¼ºåˆ¶é™åˆ¶è¯·æ±‚ç­‰å¾…æ—¶é—´ã€‚"}]}]},{"ID":"20250510110943-7nsxsiw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510110943-7nsxsiw","updated":"20250510110943"},"Children":[{"ID":"20250510110943-8bd93ws","Type":"NodeParagraph","Properties":{"id":"20250510110943-8bd93ws","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ç«é€Ÿä»»åŠ¡"},{"Type":"NodeText","Data":"ï¼šå–æœ€å¿«å“åº”çš„æ•°æ®æºã€‚"}]}]},{"ID":"20250510110943-n4c6wf9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510110943-n4c6wf9","updated":"20250510110943"},"Children":[{"ID":"20250510110943-98fkt2m","Type":"NodeParagraph","Properties":{"id":"20250510110943-98fkt2m","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ç”¨æˆ·ä¸­æ–­"},{"Type":"NodeText","Data":"ï¼šå…è®¸ç”¨æˆ·å–æ¶ˆé•¿æ—¶é—´æ“ä½œã€‚"}]}]},{"ID":"20250510110943-uv3vo18","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510110943-uv3vo18","updated":"20250510110943"},"Children":[{"ID":"20250510110943-k587w44","Type":"NodeParagraph","Properties":{"id":"20250510110943-k587w44","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"æœåŠ¡é™çº§"},{"Type":"NodeText","Data":"ï¼šä¸»å¤‡æœåŠ¡å¿«é€Ÿåˆ‡æ¢ã€‚"}]}]},{"ID":"20250510110943-5bkf92d","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510110943-5bkf92d","updated":"20250510110943"},"Children":[{"ID":"20250510110943-nce8el0","Type":"NodeParagraph","Properties":{"id":"20250510110943-nce8el0","updated":"20250510110943"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"æ€§èƒ½æµ‹è¯•"},{"Type":"NodeText","Data":"ï¼šæ¯”è¾ƒå¼‚æ­¥ä»»åŠ¡é€Ÿåº¦ã€‚"}]}]}]},{"ID":"20250510110943-v102m8d","Type":"NodeParagraph","Properties":{"id":"20250510110943-v102m8d","updated":"20250510110943"},"Children":[{"Type":"NodeText","Data":" ğŸš€"}]},{"ID":"20250510110943-hj2y0ri","Type":"NodeParagraph","Properties":{"id":"20250510110943-hj2y0ri","updated":"20250510110943"},"Children":[{"Type":"NodeText","Data":"â€"}]}]}