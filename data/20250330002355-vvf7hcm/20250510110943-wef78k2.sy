{"ID":"20250510110943-wef78k2","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250510110943-wef78k2","title":"Promise.race() çš„å®æˆ˜åº”ç”¨åœºæ™¯_conflict_github_1746846583068","type":"doc","updated":"20250510110943"},"Children":[{"ID":"20250510110938-07ei7r3","Type":"NodeThematicBreak","Properties":{"id":"20250510110938-07ei7r3","updated":"20250510110938"}},{"ID":"20250510110938-utg0urs","Type":"NodeParagraph","Properties":{"id":"20250510110938-utg0urs","updated":"20250510110938"},"Children":[{"Type":"NodeText","Data":"title: Promise.race() çš„å®æˆ˜åº”ç”¨åœºæ™¯\ndate: 2025-04-07T00:05:56Z\nlastmod: 2025-04-07T00:07:36Z"}]},{"ID":"20250510110938-w4c34tx","Type":"NodeThematicBreak","Properties":{"id":"20250510110938-w4c34tx","updated":"20250510110938"}},{"ID":"20250510110938-ryv18uq","Type":"NodeParagraph","Properties":{"id":"20250510110938-ryv18uq","updated":"20250510110938"},"Children":[{"Type":"NodeText","Data":"â€‹"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Promise.race()"},{"Type":"NodeText","Data":"â€‹ ç”¨äº "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"å¤šä¸ª Promise ç«äº‰"},{"Type":"NodeText","Data":"ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ª Promise å®Œæˆï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼‰ï¼Œå°±ç«‹å³è¿”å›å…¶ç»“æœã€‚"}]},{"ID":"20250510110938-hb1ndf7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250510110938-hb1ndf7","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Promise.race() çš„å®æˆ˜åº”ç”¨åœºæ™¯"}]},{"ID":"20250510110938-ornulse","Type":"NodeParagraph","Properties":{"id":"20250510110938-ornulse","updated":"20250510110938"},"Children":[{"Type":"NodeText","Data":"â€‹"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Promise.race()"},{"Type":"NodeText","Data":"â€‹ ç”¨äº "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"å¤šä¸ª Promise ç«äº‰"},{"Type":"NodeText","Data":"ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ª Promise å®Œæˆï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼‰ï¼Œå°±ç«‹å³è¿”å›å…¶ç»“æœã€‚ä»¥ä¸‹æ˜¯å®ƒçš„æ ¸å¿ƒåº”ç”¨åœºæ™¯å’Œä»£ç ç¤ºä¾‹ï¼š"}]},{"ID":"20250510110938-2j0piy3","Type":"NodeThematicBreak","Properties":{"id":"20250510110938-2j0piy3","updated":"20250510110938"}},{"ID":"20250510110938-mc99gg0","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110938-mc99gg0","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"1. ç½‘ç»œè¯·æ±‚è¶…æ—¶æ§åˆ¶"}]},{"ID":"20250510110938-bgojl8k","Type":"NodeParagraph","Properties":{"id":"20250510110938-bgojl8k","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"åœºæ™¯"},{"Type":"NodeText","Data":"ï¼šå‘èµ·è¯·æ±‚æ—¶ï¼Œå¦‚æœè¶…è¿‡æŒ‡å®šæ—¶é—´æœªå“åº”ï¼Œè‡ªåŠ¨å–æ¶ˆå¹¶è¿”å›è¶…æ—¶é”™è¯¯ã€‚"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä»£ç "},{"Type":"NodeText","Data":"ï¼š"}]},{"ID":"20250510110938-d6089aw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510110938-d6089aw","updated":"20250510110938"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"function fetchWithTimeout(url, timeout = 3000) {\n  const fetchPromise = fetch(url); // å®é™…è¯·æ±‚\n  const timeoutPromise = new Promise((_, reject) =\u003e {\n    setTimeout(() =\u003e reject(new Error(\"Request timeout!\")), timeout);\n  });\n\n  return Promise.race([fetchPromise, timeoutPromise]);\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\nfetchWithTimeout(\"https://api.example.com/data\")\n  .then(response =\u003e console.log(\"æˆåŠŸ:\", response))\n  .catch(error =\u003e console.log(\"å¤±è´¥:\", error)); // 3ç§’æœªå“åº”åˆ™è§¦å‘è¶…æ—¶\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510110938-vgu8w7u","Type":"NodeThematicBreak","Properties":{"id":"20250510110938-vgu8w7u","updated":"20250510110938"}},{"ID":"20250510110938-t4jkm6t","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110938-t4jkm6t","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2. ç«é€Ÿä»»åŠ¡ï¼ˆä¼˜å…ˆå–æœ€å¿«ç»“æœï¼‰"}]},{"ID":"20250510110938-q1xdig6","Type":"NodeParagraph","Properties":{"id":"20250510110938-q1xdig6","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"åœºæ™¯"},{"Type":"NodeText","Data":"ï¼šä»å¤šä¸ªæ•°æ®æºè¯·æ±‚åŒä¸€èµ„æºï¼Œå–æœ€å…ˆè¿”å›çš„ç»“æœã€‚"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä»£ç "},{"Type":"NodeText","Data":"ï¼š"}]},{"ID":"20250510110938-1m5dto5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510110938-1m5dto5","updated":"20250510110938"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"const source1 = fetch(\"https://source1.example.com/data\");\nconst source2 = fetch(\"https://source2.example.com/data\");\n\nPromise.race([source1, source2])\n  .then(response =\u003e console.log(\"æœ€å¿«ç»“æœ:\", response))\n  .catch(error =\u003e console.log(\"é”™è¯¯:\", error));\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510110938-7ltpa8s","Type":"NodeThematicBreak","Properties":{"id":"20250510110938-7ltpa8s","updated":"20250510110938"}},{"ID":"20250510110938-hvp8m1a","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110938-hvp8m1a","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"3. é•¿æ—¶é—´ä»»åŠ¡ä¸­æ–­"}]},{"ID":"20250510110938-47w26ia","Type":"NodeParagraph","Properties":{"id":"20250510110938-47w26ia","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"åœºæ™¯"},{"Type":"NodeText","Data":"ï¼šç”¨æˆ·ä¸»åŠ¨å–æ¶ˆé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ï¼ˆå¦‚æ–‡ä»¶ä¸Šä¼ ã€è®¡ç®—ï¼‰ã€‚"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä»£ç "},{"Type":"NodeText","Data":"ï¼š"}]},{"ID":"20250510110938-g99s7qa","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510110938-g99s7qa","updated":"20250510110938"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"let cancel;\nconst longTask = new Promise((resolve) =\u003e {\n  const timer = setTimeout(() =\u003e resolve(\"ä»»åŠ¡å®Œæˆ\"), 5000);\n  cancel = () =\u003e { clearTimeout(timer); reject(\"ç”¨æˆ·å–æ¶ˆ\"); };\n});\n\nconst userAction = new Promise((_, reject) =\u003e {\n  // æ¨¡æ‹Ÿç”¨æˆ·ç‚¹å‡»å–æ¶ˆæŒ‰é’®\n  document.getElementById(\"cancel-btn\").addEventListener(\"click\", () =\u003e reject(\"ç”¨æˆ·å–æ¶ˆ\"));\n});\n\nPromise.race([longTask, userAction])\n  .then(result =\u003e console.log(result))\n  .catch(error =\u003e console.log(error)); // ç”¨æˆ·ç‚¹å‡»å–æ¶ˆæ—¶è§¦å‘\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510110938-fl9k5xj","Type":"NodeThematicBreak","Properties":{"id":"20250510110938-fl9k5xj","updated":"20250510110938"}},{"ID":"20250510110938-gjbn8ab","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110938-gjbn8ab","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"4. æœåŠ¡é™çº§ï¼ˆä¼˜å…ˆä¸»å¤‡åˆ‡æ¢ï¼‰"}]},{"ID":"20250510110938-yh3btmc","Type":"NodeParagraph","Properties":{"id":"20250510110938-yh3btmc","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"åœºæ™¯"},{"Type":"NodeText","Data":"ï¼šä¸»æœåŠ¡ä¸å¯ç”¨æ—¶ï¼Œå¿«é€Ÿåˆ‡æ¢åˆ°å¤‡ç”¨æœåŠ¡ã€‚"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä»£ç "},{"Type":"NodeText","Data":"ï¼š"}]},{"ID":"20250510110938-3m60etg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510110938-3m60etg","updated":"20250510110938"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"const primaryService = fetch(\"https://primary.example.com\").catch(() =\u003e \"ä¸»æœåŠ¡å¤±è´¥\");\nconst backupService = fetch(\"https://backup.example.com\").catch(() =\u003e \"å¤‡ç”¨æœåŠ¡å¤±è´¥\");\n\nPromise.race([primaryService, backupService])\n  .then(response =\u003e console.log(\"ä½¿ç”¨æœåŠ¡:\", response));\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510110938-nahwak5","Type":"NodeThematicBreak","Properties":{"id":"20250510110938-nahwak5","updated":"20250510110938"}},{"ID":"20250510110938-23zft4r","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110938-23zft4r","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"5. æµ‹è¯•å¼‚æ­¥ä»£ç æ€§èƒ½"}]},{"ID":"20250510110938-jc8j40y","Type":"NodeParagraph","Properties":{"id":"20250510110938-jc8j40y","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"åœºæ™¯"},{"Type":"NodeText","Data":"ï¼šæ¯”è¾ƒä¸¤ä¸ªå¼‚æ­¥æ“ä½œçš„æ‰§è¡Œé€Ÿåº¦ã€‚"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä»£ç "},{"Type":"NodeText","Data":"ï¼š"}]},{"ID":"20250510110938-4x9mam6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510110938-4x9mam6","updated":"20250510110938"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"const fastTask = new Promise(resolve =\u003e setTimeout(resolve, 100, \"å¿«ä»»åŠ¡å®Œæˆ\"));\nconst slowTask = new Promise(resolve =\u003e setTimeout(resolve, 200, \"æ…¢ä»»åŠ¡å®Œæˆ\"));\n\nPromise.race([fastTask, slowTask])\n  .then(result =\u003e console.log(\"èƒœå‡º:\", result)); // è¾“å‡º: \"å¿«ä»»åŠ¡å®Œæˆ\"\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510110938-puzopgd","Type":"NodeThematicBreak","Properties":{"id":"20250510110938-puzopgd","updated":"20250510110938"}},{"ID":"20250510110938-y0ji4zw","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510110938-y0ji4zw","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"æ³¨æ„äº‹é¡¹"}]},{"ID":"20250510110938-vs2cca7","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250510110938-vs2cca7","updated":"20250510110938"},"Children":[{"ID":"20250510110938-8jk74kz","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250510110938-8jk74kz","updated":"20250510110938"},"Children":[{"ID":"20250510110938-jonrey2","Type":"NodeParagraph","Properties":{"id":"20250510110938-jonrey2","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"å¤±è´¥ä¸å½±å“å…¶ä»– Promise"},{"Type":"NodeText","Data":"ï¼šå³ä½¿æŸä¸ª Promise è¢« "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"race"},{"Type":"NodeText","Data":"â€‹ æ·˜æ±°ï¼Œå®ƒä»ä¼šç»§ç»­æ‰§è¡Œï¼ˆé™¤éæ‰‹åŠ¨å–æ¶ˆï¼‰ã€‚"}]}]},{"ID":"20250510110938-j2y4oe8","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250510110938-j2y4oe8","updated":"20250510110938"},"Children":[{"ID":"20250510110938-vny99q8","Type":"NodeParagraph","Properties":{"id":"20250510110938-vny99q8","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ä¸ä¿è¯é¡ºåº"},{"Type":"NodeText","Data":"ï¼šç»“æœå–å†³äºå“ªä¸ª Promise å…ˆå®Œæˆï¼Œä¸æ•°ç»„ä¸­çš„é¡ºåºæ— å…³ã€‚"}]}]},{"ID":"20250510110938-cz16vay","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20250510110938-cz16vay","updated":"20250510110938"},"Children":[{"ID":"20250510110938-h85wgs7","Type":"NodeParagraph","Properties":{"id":"20250510110938-h85wgs7","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"é€‚ç”¨çŸ­æœŸç«äº‰"},{"Type":"NodeText","Data":"ï¼šé€‚åˆçŸ­æœŸå¼‚æ­¥æ“ä½œï¼Œé•¿æ—¶é—´ä»»åŠ¡å»ºè®®ç”¨ "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"AbortController"},{"Type":"NodeText","Data":"â€‹ã€‚"}]}]}]},{"ID":"20250510110938-bjmc62r","Type":"NodeThematicBreak","Properties":{"id":"20250510110938-bjmc62r","updated":"20250510110938"}},{"ID":"20250510110938-1naphgy","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250510110938-1naphgy","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"æ€»ç»“"}]},{"ID":"20250510110938-oizzsfv","Type":"NodeList","ListData":{},"Properties":{"id":"20250510110938-oizzsfv","updated":"20250510110938"},"Children":[{"ID":"20250510110938-dl6wrne","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510110938-dl6wrne","updated":"20250510110938"},"Children":[{"ID":"20250510110938-3zyp6hr","Type":"NodeParagraph","Properties":{"id":"20250510110938-3zyp6hr","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"è¶…æ—¶æ§åˆ¶"},{"Type":"NodeText","Data":"ï¼šå¼ºåˆ¶é™åˆ¶è¯·æ±‚ç­‰å¾…æ—¶é—´ã€‚"}]}]},{"ID":"20250510110938-17tefkz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510110938-17tefkz","updated":"20250510110938"},"Children":[{"ID":"20250510110938-ztvdayo","Type":"NodeParagraph","Properties":{"id":"20250510110938-ztvdayo","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ç«é€Ÿä»»åŠ¡"},{"Type":"NodeText","Data":"ï¼šå–æœ€å¿«å“åº”çš„æ•°æ®æºã€‚"}]}]},{"ID":"20250510110938-cya057o","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510110938-cya057o","updated":"20250510110938"},"Children":[{"ID":"20250510110938-mwln4jl","Type":"NodeParagraph","Properties":{"id":"20250510110938-mwln4jl","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"ç”¨æˆ·ä¸­æ–­"},{"Type":"NodeText","Data":"ï¼šå…è®¸ç”¨æˆ·å–æ¶ˆé•¿æ—¶é—´æ“ä½œã€‚"}]}]},{"ID":"20250510110938-sbnnqa7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510110938-sbnnqa7","updated":"20250510110938"},"Children":[{"ID":"20250510110938-hiy1zuz","Type":"NodeParagraph","Properties":{"id":"20250510110938-hiy1zuz","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"æœåŠ¡é™çº§"},{"Type":"NodeText","Data":"ï¼šä¸»å¤‡æœåŠ¡å¿«é€Ÿåˆ‡æ¢ã€‚"}]}]},{"ID":"20250510110938-bh3h9xo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510110938-bh3h9xo","updated":"20250510110938"},"Children":[{"ID":"20250510110938-3oj7aml","Type":"NodeParagraph","Properties":{"id":"20250510110938-3oj7aml","updated":"20250510110938"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"æ€§èƒ½æµ‹è¯•"},{"Type":"NodeText","Data":"ï¼šæ¯”è¾ƒå¼‚æ­¥ä»»åŠ¡é€Ÿåº¦ã€‚"}]}]}]},{"ID":"20250510110938-icoj38i","Type":"NodeParagraph","Properties":{"id":"20250510110938-icoj38i","updated":"20250510110938"},"Children":[{"Type":"NodeText","Data":" ğŸš€"}]},{"ID":"20250510110938-jhdja2m","Type":"NodeParagraph","Properties":{"id":"20250510110938-jhdja2m","updated":"20250510110938"},"Children":[{"Type":"NodeText","Data":"â€"}]}]}