{"ID":"20250408000653-0d08780","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250408000653-0d08780","title":"nuxt3  环境文件加载规则","type":"doc","updated":"20250510111019"},"Children":[{"ID":"20250510111019-56ja4vl","Type":"NodeThematicBreak","Properties":{"id":"20250510111019-56ja4vl","updated":"20250510111019"}},{"ID":"20250510111019-mqqtwo9","Type":"NodeParagraph","Properties":{"id":"20250510111019-mqqtwo9","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"title: nuxt3  环境文件加载规则\ndate: 2025-04-08T00:06:53Z\nlastmod: 2025-05-10T10:48:11Z"}]},{"ID":"20250510111019-r2xnaa4","Type":"NodeThematicBreak","Properties":{"id":"20250510111019-r2xnaa4","updated":"20250510111019"}},{"ID":"20250510111019-gmvtv97","Type":"NodeThematicBreak","Properties":{"id":"20250510111019-gmvtv97","updated":"20250510111019"}},{"ID":"20250510111019-klie541","Type":"NodeParagraph","Properties":{"id":"20250510111019-klie541","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"title: nuxt3  环境文件加载规则"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"date: 2025-04-08T00:06:53Z"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"lastmod: 2025-04-08T00:27:48Z"}]},{"ID":"20250510111019-7fo53sg","Type":"NodeThematicBreak","Properties":{"id":"20250510111019-7fo53sg","updated":"20250510111019"}},{"ID":"20250510111019-n3g0xxd","Type":"NodeParagraph","Properties":{"id":"20250510111019-n3g0xxd","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"记住nuxt3 只会读取 .env 文件 不会读取 .env.development  或者.env.production 文件"}]},{"ID":"20250510111019-jzsnpmy","Type":"NodeParagraph","Properties":{"id":"20250510111019-jzsnpmy","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"只加载根目录下的 .env 文件（始终加载）\n不自动根据 NODE_ENV 加载对应环境文件（如 .env.production）"}]},{"ID":"20250510111019-sgzzedg","Type":"NodeParagraph","Properties":{"id":"20250510111019-sgzzedg","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111019-khmljbw","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510111019-khmljbw","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"1. Nuxt 3 环境文件加载规则"}]},{"ID":"20250510111019-49mm9c4","Type":"NodeParagraph","Properties":{"id":"20250510111019-49mm9c4","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"Nuxt 3 不会自动加载 .env.development 或 .env.production 这类带环境后缀的文件，它的默认行为是："}]},{"ID":"20250510111019-l5s9hib","Type":"NodeParagraph","Properties":{"id":"20250510111019-l5s9hib","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"可以采取的方式"}]},{"ID":"20250510111019-2fm9ec6","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250510111019-2fm9ec6","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"方案2：使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dotenv-flow"},{"Type":"NodeText","Data":"​（自动识别环境）  这个对nuxt3 无效"}]},{"ID":"20250510111019-0lwzgvt","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250510111019-0lwzgvt","updated":"20250510111019"},"Children":[{"ID":"20250510111019-usampmu","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250510111019-usampmu","updated":"20250510111019"},"Children":[{"ID":"20250510111019-w2ro9mb","Type":"NodeParagraph","Properties":{"id":"20250510111019-w2ro9mb","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"安装依赖："}]}]}]},{"ID":"20250510111019-ovmah9w","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111019-ovmah9w","updated":"20250510111019"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"npm install dotenv-flow\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111019-dtkgv7b","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250510111019-dtkgv7b","updated":"20250510111019"},"Children":[{"ID":"20250510111019-ppayjvl","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250510111019-ppayjvl","updated":"20250510111019"},"Children":[{"ID":"20250510111019-mfnveud","Type":"NodeParagraph","Properties":{"id":"20250510111019-mfnveud","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"nuxt.config.ts"},{"Type":"NodeText","Data":"​ 顶部添加："}]}]}]},{"ID":"20250510111019-7h61tnq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111019-7h61tnq","updated":"20250510111019"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"dHlwZXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"import dotenvFlow from 'dotenv-flow'\ndotenvFlow.config() // 会自动加载 .env.development 或 .env.production\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111019-ikdvk0q","Type":"NodeParagraph","Properties":{"id":"20250510111019-ikdvk0q","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111019-f20f9en","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250510111019-f20f9en","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"方案3：通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"--dotenv"},{"Type":"NodeText","Data":"​ 参数指定"}]},{"ID":"20250510111019-g3h40nt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111019-g3h40nt","updated":"20250510111019"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"nuxi dev --dotenv .env.development\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111019-7uj1rxh","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250510111019-7uj1rxh","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"3. 环境变量优先级"}]},{"ID":"20250510111019-hi7d16s","Type":"NodeParagraph","Properties":{"id":"20250510111019-hi7d16s","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"无论采用哪种方式，最终环境变量的优先级为："}]},{"ID":"20250510111019-dz2j51i","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111019-dz2j51i","updated":"20250510111019"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"bWFya2Rvd24="},{"Type":"NodeCodeBlockCode","Data":"命令行参数 \u003e .env.local \u003e .env.[mode] \u003e .env\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111019-8c68e96","Type":"NodeParagraph","Properties":{"id":"20250510111019-8c68e96","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111019-7852qu9","Type":"NodeParagraph","Properties":{"id":"20250510111019-7852qu9","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20250408002315-h4j5wic.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20250510111019-r2uafve","Type":"NodeParagraph","Properties":{"id":"20250510111019-r2uafve","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111019-34xjq7c","Type":"NodeParagraph","Properties":{"id":"20250510111019-34xjq7c","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111019-ru9kgoq","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510111019-ru9kgoq","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"真正能在nuxt3 中生效的 是--dotdev 指定环境变量 有效"}]},{"ID":"20250510111019-vzkwkst","Type":"NodeParagraph","Properties":{"id":"20250510111019-vzkwkst","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20250408002600-zy2m57r.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]}