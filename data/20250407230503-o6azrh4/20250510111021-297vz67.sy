{"ID":"20250510111021-297vz67","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250510111021-297vz67","title":"nuxt3  环境文件加载规则_conflict_github_1746846619723","type":"doc","updated":"20250510111021"},"Children":[{"ID":"20250510111018-75lta1g","Type":"NodeThematicBreak","Properties":{"id":"20250510111018-75lta1g","updated":"20250510111018"}},{"ID":"20250510111018-0oc9r8s","Type":"NodeParagraph","Properties":{"id":"20250510111018-0oc9r8s","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"title: nuxt3  环境文件加载规则\ndate: 2025-04-08T00:06:53Z\nlastmod: 2025-04-08T00:27:48Z"}]},{"ID":"20250510111018-sxofmpf","Type":"NodeThematicBreak","Properties":{"id":"20250510111018-sxofmpf","updated":"20250510111018"}},{"ID":"20250510111018-0bjbnv0","Type":"NodeParagraph","Properties":{"id":"20250510111018-0bjbnv0","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"记住nuxt3 只会读取 .env 文件 不会读取 .env.development  或者.env.production 文件"}]},{"ID":"20250510111018-afk7wfh","Type":"NodeParagraph","Properties":{"id":"20250510111018-afk7wfh","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"只加载根目录下的 .env 文件（始终加载）"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"不自动根据 NODE_ENV 加载对应环境文件（如 .env.production）"}]},{"ID":"20250510111018-h47lf87","Type":"NodeParagraph","Properties":{"id":"20250510111018-h47lf87","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111018-b5merbw","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510111018-b5merbw","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"1. Nuxt 3 环境文件加载规则"}]},{"ID":"20250510111018-40itpqu","Type":"NodeParagraph","Properties":{"id":"20250510111018-40itpqu","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"Nuxt 3 不会自动加载 .env.development 或 .env.production 这类带环境后缀的文件，它的默认行为是："}]},{"ID":"20250510111018-gqdt0a3","Type":"NodeParagraph","Properties":{"id":"20250510111018-gqdt0a3","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"可以采取的方式"}]},{"ID":"20250510111018-33iva0t","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250510111018-33iva0t","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"方案2：使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dotenv-flow"},{"Type":"NodeText","Data":"​（自动识别环境）  这个对nuxt3 无效"}]},{"ID":"20250510111018-29h8nvw","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250510111018-29h8nvw","updated":"20250510111018"},"Children":[{"ID":"20250510111018-1f418vf","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250510111018-1f418vf","updated":"20250510111018"},"Children":[{"ID":"20250510111018-4db8ccg","Type":"NodeParagraph","Properties":{"id":"20250510111018-4db8ccg","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"安装依赖："}]}]}]},{"ID":"20250510111018-9nln4h7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111018-9nln4h7","updated":"20250510111018"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"npm install dotenv-flow\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111018-63k82e2","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250510111018-63k82e2","updated":"20250510111018"},"Children":[{"ID":"20250510111018-cukye9l","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250510111018-cukye9l","updated":"20250510111018"},"Children":[{"ID":"20250510111018-uomaw07","Type":"NodeParagraph","Properties":{"id":"20250510111018-uomaw07","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"nuxt.config.ts"},{"Type":"NodeText","Data":"​ 顶部添加："}]}]}]},{"ID":"20250510111018-2lv0nbb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111018-2lv0nbb","updated":"20250510111018"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"dHlwZXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"import dotenvFlow from 'dotenv-flow'\ndotenvFlow.config() // 会自动加载 .env.development 或 .env.production\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111018-2od0yiq","Type":"NodeParagraph","Properties":{"id":"20250510111018-2od0yiq","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111018-efha17r","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250510111018-efha17r","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"方案3：通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"--dotenv"},{"Type":"NodeText","Data":"​ 参数指定"}]},{"ID":"20250510111018-5kabrgc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111018-5kabrgc","updated":"20250510111018"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"nuxi dev --dotenv .env.development\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111018-fovaie8","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250510111018-fovaie8","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"3. 环境变量优先级"}]},{"ID":"20250510111018-iz1vy4i","Type":"NodeParagraph","Properties":{"id":"20250510111018-iz1vy4i","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"无论采用哪种方式，最终环境变量的优先级为："}]},{"ID":"20250510111018-o1w8gls","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111018-o1w8gls","updated":"20250510111018"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"bWFya2Rvd24="},{"Type":"NodeCodeBlockCode","Data":"命令行参数 \u003e .env.local \u003e .env.[mode] \u003e .env\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111018-nlrjqj3","Type":"NodeParagraph","Properties":{"id":"20250510111018-nlrjqj3","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111018-7iaiatv","Type":"NodeParagraph","Properties":{"id":"20250510111018-7iaiatv","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20250408002315-h4j5wic.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20250510111018-iwqobb6","Type":"NodeParagraph","Properties":{"id":"20250510111018-iwqobb6","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111018-ttykf0y","Type":"NodeParagraph","Properties":{"id":"20250510111018-ttykf0y","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111018-7uv1ve7","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250510111018-7uv1ve7","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"真正能在nuxt3 中生效的 是--dotdev 指定环境变量 有效"}]},{"ID":"20250510111018-29jxkyp","Type":"NodeParagraph","Properties":{"id":"20250510111018-29jxkyp","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20250408002600-zy2m57r.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]}