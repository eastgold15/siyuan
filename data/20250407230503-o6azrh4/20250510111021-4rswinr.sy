{"ID":"20250510111021-4rswinr","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250510111021-4rswinr","title":"在做环境变_conflict_github_1746846619932","type":"doc","updated":"20250510111021"},"Children":[{"ID":"20250510111018-cxvnpt0","Type":"NodeThematicBreak","Properties":{"id":"20250510111018-cxvnpt0","updated":"20250510111018"}},{"ID":"20250510111018-qcp338w","Type":"NodeParagraph","Properties":{"id":"20250510111018-qcp338w","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"title: 在做环境变\ndate: 2025-04-11T17:31:04Z\nlastmod: 2025-04-11T17:37:12Z"}]},{"ID":"20250510111018-wv3215r","Type":"NodeThematicBreak","Properties":{"id":"20250510111018-wv3215r","updated":"20250510111018"}},{"ID":"20250510111018-mbdindb","Type":"NodeParagraph","Properties":{"id":"20250510111018-mbdindb","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111018-x11amrl","Type":"NodeParagraph","Properties":{"id":"20250510111018-x11amrl","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"process.env.NUXT_PUBLIC_API_BASE_URL"},{"Type":"NodeText","Data":"​"}]},{"ID":"20250510111018-y0znbxd","Type":"NodeParagraph","Properties":{"id":"20250510111018-y0znbxd","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"import.meta.env.NUXT_PUBLIC_PORT "},{"Type":"NodeText","Data":"​"}]},{"ID":"20250510111018-qxcngk9","Type":"NodeParagraph","Properties":{"id":"20250510111018-qxcngk9","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"两者的区别是： "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"process"},{"Type":"NodeText","Data":"​是node的环境变量，import是Vite 客户端环境变量"}]},{"ID":"20250510111018-s5n5r6c","Type":"NodeParagraph","Properties":{"id":"20250510111018-s5n5r6c","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111018-m0eojcd","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250510111018-m0eojcd","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"process.env (Node.js 环境变量)"}]},{"ID":"20250510111018-elsj1iu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111018-elsj1iu","updated":"20250510111018"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"dHlwZXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"// 服务端使用 (Node.js 环境)\nprocess.env.NUXT_PUBLIC_API_BASE_URL\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111018-ypudqhb","Type":"NodeList","ListData":{},"Properties":{"id":"20250510111018-ypudqhb","updated":"20250510111018"},"Children":[{"ID":"20250510111018-aypixpg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-aypixpg","updated":"20250510111018"},"Children":[{"ID":"20250510111018-xdyusvb","Type":"NodeParagraph","Properties":{"id":"20250510111018-xdyusvb","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"运行环境 ：仅在 Node.js 服务端运行时可用"}]}]},{"ID":"20250510111018-irsqv37","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-irsqv37","updated":"20250510111018"},"Children":[{"ID":"20250510111018-lh24lu0","Type":"NodeParagraph","Properties":{"id":"20250510111018-lh24lu0","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"来源 ：来自 .env 文件或系统环境变量"}]}]},{"ID":"20250510111018-6xupvtg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-6xupvtg","updated":"20250510111018"},"Children":[{"ID":"20250510111018-8eons1t","Type":"NodeParagraph","Properties":{"id":"20250510111018-8eons1t","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"特点 ："}]},{"ID":"20250510111018-4bo84s8","Type":"NodeList","ListData":{},"Properties":{"id":"20250510111018-4bo84s8","updated":"20250510111018"},"Children":[{"ID":"20250510111018-f6ivven","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-f6ivven","updated":"20250510111018"},"Children":[{"ID":"20250510111018-21u62ue","Type":"NodeParagraph","Properties":{"id":"20250510111018-21u62ue","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"构建时和运行时都可访问"}]}]},{"ID":"20250510111018-dw9ys4v","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-dw9ys4v","updated":"20250510111018"},"Children":[{"ID":"20250510111018-cm15ed3","Type":"NodeParagraph","Properties":{"id":"20250510111018-cm15ed3","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"适合配置后端服务地址等敏感信息"}]}]},{"ID":"20250510111018-szu8q8j","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-szu8q8j","updated":"20250510111018"},"Children":[{"ID":"20250510111018-165l5s6","Type":"NodeParagraph","Properties":{"id":"20250510111018-165l5s6","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"需要 NUXT_ 或 NUXT_PUBLIC_ 前缀才能在 Nuxt 中生效"}]}]}]}]}]},{"ID":"20250510111018-4jkob83","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250510111018-4jkob83","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"2. import.meta.env (Vite 客户端环境变量)"}]},{"ID":"20250510111018-yvk78du","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111018-yvk78du","updated":"20250510111018"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"dHlwZXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"// 客户端使用 (浏览器环境)\nimport.meta.env.NUXT_PUBLIC_PORT\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111018-euzi68q","Type":"NodeList","ListData":{},"Properties":{"id":"20250510111018-euzi68q","updated":"20250510111018"},"Children":[{"ID":"20250510111018-ngg8p4u","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-ngg8p4u","updated":"20250510111018"},"Children":[{"ID":"20250510111018-eqaa811","Type":"NodeParagraph","Properties":{"id":"20250510111018-eqaa811","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"运行环境 ：仅在浏览器客户端可用"}]}]},{"ID":"20250510111018-o2ixi6p","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-o2ixi6p","updated":"20250510111018"},"Children":[{"ID":"20250510111018-nxrr7n8","Type":"NodeParagraph","Properties":{"id":"20250510111018-nxrr7n8","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"来源 ：来自 Vite 的 import.meta 注入"}]}]},{"ID":"20250510111018-mrmflgp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-mrmflgp","updated":"20250510111018"},"Children":[{"ID":"20250510111018-baspiab","Type":"NodeParagraph","Properties":{"id":"20250510111018-baspiab","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"特点 ："}]},{"ID":"20250510111018-ki2v3eo","Type":"NodeList","ListData":{},"Properties":{"id":"20250510111018-ki2v3eo","updated":"20250510111018"},"Children":[{"ID":"20250510111018-img6rap","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-img6rap","updated":"20250510111018"},"Children":[{"ID":"20250510111018-wwng8hr","Type":"NodeParagraph","Properties":{"id":"20250510111018-wwng8hr","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"只适用于客户端代码"}]}]},{"ID":"20250510111018-mpqudvj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-mpqudvj","updated":"20250510111018"},"Children":[{"ID":"20250510111018-fzy1ivh","Type":"NodeParagraph","Properties":{"id":"20250510111018-fzy1ivh","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"只能访问 NUXT_PUBLIC_ 前缀的变量（非公共变量会被过滤）"}]}]},{"ID":"20250510111018-ad198zj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111018-ad198zj","updated":"20250510111018"},"Children":[{"ID":"20250510111018-cmnorp2","Type":"NodeParagraph","Properties":{"id":"20250510111018-cmnorp2","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"会被 Vite 静态替换"}]}]}]}]}]},{"ID":"20250510111018-r598zp0","Type":"NodeParagraph","Properties":{"id":"20250510111018-r598zp0","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"import.meta.env."},{"Type":"NodeText","Data":"​可以说是vite的变量。"}]},{"ID":"20250510111018-nfkdh9d","Type":"NodeParagraph","Properties":{"id":"20250510111018-nfkdh9d","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111018-qtotc9r","Type":"NodeParagraph","Properties":{"id":"20250510111018-qtotc9r","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111018-la0agl5","Type":"NodeParagraph","Properties":{"id":"20250510111018-la0agl5","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"nuxt3在应用在启动时， 可以通过 --dotenv  .env 来指定 环境变量文件，默认的环境变量文件是. env"}]},{"ID":"20250510111018-jko6s55","Type":"NodeParagraph","Properties":{"id":"20250510111018-jko6s55","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"   \u0026quot;dev\u0026quot;: \u0026quot;nuxi dev --dotenv .env.development\u0026quot;,"},{"Type":"NodeText","Data":"​   默认是根目录的.env 文件"}]},{"ID":"20250510111018-d5vjs7a","Type":"NodeParagraph","Properties":{"id":"20250510111018-d5vjs7a","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111018-x5px461","Type":"NodeParagraph","Properties":{"id":"20250510111018-x5px461","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"要配置nuxt3的启动端口："}]},{"ID":"20250510111018-sfutmn7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111018-sfutmn7","updated":"20250510111018"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"dHM="},{"Type":"NodeCodeBlockCode","Data":"  devServer: {\n    port: parseInt(import.meta.env.NUXT_PUBLIC_PORT || '3000'),\n  }\n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111018-arfv9ii","Type":"NodeParagraph","Properties":{"id":"20250510111018-arfv9ii","updated":"20250510111018"},"Children":[{"Type":"NodeText","Data":"‍"}]}]}