{"ID":"20250411173104-ljb43yc","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250411173104-ljb43yc","title":"在做环境变","type":"doc","updated":"20250510111019"},"Children":[{"ID":"20250510111019-21x9fta","Type":"NodeThematicBreak","Properties":{"id":"20250510111019-21x9fta","updated":"20250510111019"}},{"ID":"20250510111019-avv0fau","Type":"NodeParagraph","Properties":{"id":"20250510111019-avv0fau","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"title: 在做环境变\ndate: 2025-04-11T17:31:04Z\nlastmod: 2025-05-10T10:48:13Z"}]},{"ID":"20250510111019-egoehby","Type":"NodeThematicBreak","Properties":{"id":"20250510111019-egoehby","updated":"20250510111019"}},{"ID":"20250510111019-y9vbthh","Type":"NodeThematicBreak","Properties":{"id":"20250510111019-y9vbthh","updated":"20250510111019"}},{"ID":"20250510111019-g2zxksu","Type":"NodeParagraph","Properties":{"id":"20250510111019-g2zxksu","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"title: 在做环境变"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"date: 2025-04-11T17:31:04Z"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"lastmod: 2025-04-11T17:37:12Z"}]},{"ID":"20250510111019-q17ls98","Type":"NodeThematicBreak","Properties":{"id":"20250510111019-q17ls98","updated":"20250510111019"}},{"ID":"20250510111019-vg2mfcj","Type":"NodeParagraph","Properties":{"id":"20250510111019-vg2mfcj","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111019-5hq23p8","Type":"NodeParagraph","Properties":{"id":"20250510111019-5hq23p8","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"process.env.NUXT_PUBLIC_API_BASE_URL"},{"Type":"NodeText","Data":"​"}]},{"ID":"20250510111019-unw4yca","Type":"NodeParagraph","Properties":{"id":"20250510111019-unw4yca","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"import.meta.env.NUXT_PUBLIC_PORT "},{"Type":"NodeText","Data":"​"}]},{"ID":"20250510111019-qwneq5w","Type":"NodeParagraph","Properties":{"id":"20250510111019-qwneq5w","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"两者的区别是： "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"process"},{"Type":"NodeText","Data":"​是node的环境变量，import是Vite 客户端环境变量"}]},{"ID":"20250510111019-fui6h8f","Type":"NodeParagraph","Properties":{"id":"20250510111019-fui6h8f","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111019-nsra14a","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250510111019-nsra14a","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"process.env (Node.js 环境变量)"}]},{"ID":"20250510111019-i1z9h7c","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111019-i1z9h7c","updated":"20250510111019"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"dHlwZXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"// 服务端使用 (Node.js 环境)\nprocess.env.NUXT_PUBLIC_API_BASE_URL\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111019-u9uyhgq","Type":"NodeList","ListData":{},"Properties":{"id":"20250510111019-u9uyhgq","updated":"20250510111019"},"Children":[{"ID":"20250510111019-5uwbhh7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-5uwbhh7","updated":"20250510111019"},"Children":[{"ID":"20250510111019-ebayk22","Type":"NodeParagraph","Properties":{"id":"20250510111019-ebayk22","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"运行环境 ：仅在 Node.js 服务端运行时可用"}]}]},{"ID":"20250510111019-znkfsoi","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-znkfsoi","updated":"20250510111019"},"Children":[{"ID":"20250510111019-j32lx2h","Type":"NodeParagraph","Properties":{"id":"20250510111019-j32lx2h","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"来源 ：来自 .env 文件或系统环境变量"}]}]},{"ID":"20250510111019-mlvxr6u","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-mlvxr6u","updated":"20250510111019"},"Children":[{"ID":"20250510111019-ohh1zyj","Type":"NodeParagraph","Properties":{"id":"20250510111019-ohh1zyj","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"特点 ："}]},{"ID":"20250510111019-6q1cpad","Type":"NodeList","ListData":{},"Properties":{"id":"20250510111019-6q1cpad","updated":"20250510111019"},"Children":[{"ID":"20250510111019-qr1e7gh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-qr1e7gh","updated":"20250510111019"},"Children":[{"ID":"20250510111019-bca1len","Type":"NodeParagraph","Properties":{"id":"20250510111019-bca1len","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"构建时和运行时都可访问"}]}]},{"ID":"20250510111019-s0obgeg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-s0obgeg","updated":"20250510111019"},"Children":[{"ID":"20250510111019-5c2afhq","Type":"NodeParagraph","Properties":{"id":"20250510111019-5c2afhq","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"适合配置后端服务地址等敏感信息"}]}]},{"ID":"20250510111019-1wt4hrb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-1wt4hrb","updated":"20250510111019"},"Children":[{"ID":"20250510111019-3j4y3kc","Type":"NodeParagraph","Properties":{"id":"20250510111019-3j4y3kc","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"需要 NUXT_ 或 NUXT_PUBLIC_ 前缀才能在 Nuxt 中生效"}]}]}]}]}]},{"ID":"20250510111019-wtzhyuc","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250510111019-wtzhyuc","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"2. import.meta.env (Vite 客户端环境变量)"}]},{"ID":"20250510111019-89ev0jk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111019-89ev0jk","updated":"20250510111019"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"dHlwZXNjcmlwdA=="},{"Type":"NodeCodeBlockCode","Data":"// 客户端使用 (浏览器环境)\nimport.meta.env.NUXT_PUBLIC_PORT\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111019-ojst28h","Type":"NodeList","ListData":{},"Properties":{"id":"20250510111019-ojst28h","updated":"20250510111019"},"Children":[{"ID":"20250510111019-u21ks7r","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-u21ks7r","updated":"20250510111019"},"Children":[{"ID":"20250510111019-epyugi5","Type":"NodeParagraph","Properties":{"id":"20250510111019-epyugi5","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"运行环境 ：仅在浏览器客户端可用"}]}]},{"ID":"20250510111019-zmcg5pc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-zmcg5pc","updated":"20250510111019"},"Children":[{"ID":"20250510111019-65h5acn","Type":"NodeParagraph","Properties":{"id":"20250510111019-65h5acn","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"来源 ：来自 Vite 的 import.meta 注入"}]}]},{"ID":"20250510111019-a0v7mzz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-a0v7mzz","updated":"20250510111019"},"Children":[{"ID":"20250510111019-wg78auo","Type":"NodeParagraph","Properties":{"id":"20250510111019-wg78auo","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"特点 ："}]},{"ID":"20250510111019-mxuyuyx","Type":"NodeList","ListData":{},"Properties":{"id":"20250510111019-mxuyuyx","updated":"20250510111019"},"Children":[{"ID":"20250510111019-lo15zcy","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-lo15zcy","updated":"20250510111019"},"Children":[{"ID":"20250510111019-8dx4w47","Type":"NodeParagraph","Properties":{"id":"20250510111019-8dx4w47","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"只适用于客户端代码"}]}]},{"ID":"20250510111019-bvs4rl8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-bvs4rl8","updated":"20250510111019"},"Children":[{"ID":"20250510111019-sr0a79k","Type":"NodeParagraph","Properties":{"id":"20250510111019-sr0a79k","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"只能访问 NUXT_PUBLIC_ 前缀的变量（非公共变量会被过滤）"}]}]},{"ID":"20250510111019-j7gxmgv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250510111019-j7gxmgv","updated":"20250510111019"},"Children":[{"ID":"20250510111019-y0xloqi","Type":"NodeParagraph","Properties":{"id":"20250510111019-y0xloqi","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"会被 Vite 静态替换"}]}]}]}]}]},{"ID":"20250510111019-y2i3b2m","Type":"NodeParagraph","Properties":{"id":"20250510111019-y2i3b2m","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"import.meta.env."},{"Type":"NodeText","Data":"​可以说是vite的变量。"}]},{"ID":"20250510111019-5p7mo5n","Type":"NodeParagraph","Properties":{"id":"20250510111019-5p7mo5n","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111019-vpo7f73","Type":"NodeParagraph","Properties":{"id":"20250510111019-vpo7f73","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111019-nxat6z6","Type":"NodeParagraph","Properties":{"id":"20250510111019-nxat6z6","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"nuxt3在应用在启动时， 可以通过 --dotenv  .env 来指定 环境变量文件，默认的环境变量文件是. env"}]},{"ID":"20250510111019-i1wsu0b","Type":"NodeParagraph","Properties":{"id":"20250510111019-i1wsu0b","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"   \u0026quot;dev\u0026quot;: \u0026quot;nuxi dev --dotenv .env.development\u0026quot;,"},{"Type":"NodeText","Data":"​   默认是根目录的.env 文件"}]},{"ID":"20250510111019-dvqrcdb","Type":"NodeParagraph","Properties":{"id":"20250510111019-dvqrcdb","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"‍"}]},{"ID":"20250510111019-04mrgbh","Type":"NodeParagraph","Properties":{"id":"20250510111019-04mrgbh","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"要配置nuxt3的启动端口："}]},{"ID":"20250510111019-2blu087","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250510111019-2blu087","updated":"20250510111019"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"dHM="},{"Type":"NodeCodeBlockCode","Data":"  devServer: {\n    port: parseInt(import.meta.env.NUXT_PUBLIC_PORT || '3000'),\n  }\n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250510111019-q9qw36a","Type":"NodeParagraph","Properties":{"id":"20250510111019-q9qw36a","updated":"20250510111019"},"Children":[{"Type":"NodeText","Data":"‍"}]}]}